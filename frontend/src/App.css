.app-layout {
  display: flex;
  flex-direction: column;
  height: 100vh;
  height: 100dvh; /* dynamic viewport height: accounts for mobile browser chrome */
  width: 100vw;
  overflow: hidden;
  background: var(--bg-primary);
}

.app-body {
  display: flex;
  flex: 1;
  overflow: hidden;
  min-height: 0;
}

/* ── Sidebar wrapper — controls desktop collapse ─────────────────────────── */
.sidebar-wrap {
  flex-shrink: 0;
  width: var(--panel-width, 220px);
  overflow: hidden;
  transition: width 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar-wrap--collapsed {
  width: 0;
}

/* On mobile (≤991px) the LeftPanel is fixed-positioned, so the wrapper
   collapses to 0 naturally; no extra rule needed. */

.viewer-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
  background: var(--canvas-bg);
  /* Ensure viewer always fills available width when panels are drawers */
  min-width: 0;
}

/* ── Panel backdrop ──────────────────────────────────────────────────────────
   Dims the viewer when a side-panel drawer is open on tablet / mobile.
   Hidden on desktop (≥992px) where panels are always in-flow.
────────────────────────────────────────────────────────────────────────────── */
.panel-backdrop {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  z-index: 150;
  backdrop-filter: blur(1px);
  -webkit-backdrop-filter: blur(1px);
  cursor: pointer;
}

@media (max-width: 991px) {
  .panel-backdrop.visible {
    display: block;
  }
}
